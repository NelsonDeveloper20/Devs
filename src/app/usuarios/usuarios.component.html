
 <ngx-spinner
  bdColor="rgba(255, 255, 255, 1)"
  size="medium"
  color="#0D7ABD"
  type="ball-beat"
  [fullScreen]="true"
  ><p style="color: black">Loading...</p></ngx-spinner>

           <!--**********************************
	Content body start
***********************************-->
<div class="content-body">
	<div class="container-fluid">
    
		<div class="row page-titles mx-0" style="padding: 0 !important;
    background: transparent !important;
    margin-bottom: 0 !important;
    border-radius: 5px !important;
    margin-top: -20px !important;">
            <div class="col-sm-6 p-md-0">
                <div class="welcome-text">
                    <h4>Usuarios</h4>
                    <p class="mb-0">Mantenimiento Usuarios</p>
                </div>
            </div>
            <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                <ol class="breadcrumb"> 
					<mat-button-toggle-group name="ingredients" aria-label="Ingredients" multiple style="border-radius: 70px;
					border: 3px solid #B8122B;font-weight: 500;
					box-shadow: 0px 3px 5px -1px rgb(0 0 0 / 0%), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);"> 
					  <mat-button-toggle value="eggs" (click)="openRegisterUser()">Nuevo Usuario <mat-icon style="color: #B8122B;">group_add</mat-icon ></mat-button-toggle> 
					</mat-button-toggle-group>	
                </ol>
            </div>
        </div>
		<br>
		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-responsive-lg mb-0 table-striped">
								<thead>
									<tr> 
										<th>Nombre</th>
										<th>Apellido</th>
										<th>Documento</th>
										<th>Correo</th>
										<th>Codigo</th>
										<th>Perfil</th>
										<th></th>
									</tr>
								</thead>
								<tbody id="customers"> 
									<tr class="btn-reveal-trigger" *ngFor="let item of ListUsuarios"> 
										<td class="py-3">
											<div class="circle" [style.backgroundColor]="getRandomColor()">
												<span>{{ item.nombre.charAt(0) | uppercase }}</span>
											  </div>
											  {{ item.nombre }}
										</td>
										<td class="py-2">{{ item.apellido }}</td>
										<td class="py-2"> {{ item.dni }}</td>
										<td class="py-2 pl-5 wspace-no"><a href="mailto:item.correo">{{ item.correo }}</a></td>
										<td class="py-2">{{ item.codigoUsuario }}</td>
										<td class="py-2">{{ item.nombreRol }}</td>
										<!-- <a href="tel:2012001851">{{ item.dni }}</a> -->
										<td class="py-2 text-right"> 								
											<button class="btn btn-primary tp-btn-light sharp" style="margin: 5px;"
											(click)="openEditUsers(item)">
												<mat-icon>edit</mat-icon>
											  </button>
											  <button class="btn btn-primary tp-btn-light sharp" (click)="eliminarUsuario(item)">
												<mat-icon>delete</mat-icon>
											  </button>
										</td>
									</tr>   
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>
</div>
<!--**********************************
	Content body end
***********************************-->
<!--USUARIO WORKFLOW-->
                <div class="" style="display: none;">
                    <div class="card-header card-header-warning" style="    width: 9%; 
                    padding-top: 0px;">
                      <div class="card-icon">
                          <button mat-icon-button color="primary" (click)="backClicked()" aria-label="Example icon button with a home icon">
                              <mat-icon>keyboard_backspace</mat-icon>
                            </button> 
                      </div>
                      <h5 class="card-title" style="font-size: 15px;
                      font-weight: 500;
                      color: #000000a3;
                      text-transform: capitalize;">Usuarios</h5> 
                        
                    </div>
                    <div class="card-body table-responsive">
                        <div class="example-header">
<div class="row">

 
         
                <button mat-fab color="primary"  (click)="openRegisterUser()" style="
                position: absolute;    right: 3%;" aria-label="Example icon button with a delete icon">
                  <mat-icon>add_box</mat-icon>
                </button> 

</div>
             
                          </div>
                          <br>
                          <div class="example-container mat-elevation-z8" style="background: white;">
                            <mat-form-field style="left: 5%;">
                                <input matInput   placeholder="Buscar" (keyup)="buscar($event)">
                                </mat-form-field>
                                <table mat-table  [dataSource]="dataSource" matSort style="width: 100% !important;">
                          
                              <!-- ID Column [(ngModel)]="searchs"-->
                              <ng-container matColumnDef="id">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> ID </th>
                                <td mat-cell *matCellDef="let row"  style="width: 10px;"> {{row.id}} </td>
                              </ng-container>
                          
                              <!-- Progress Column -->
                              <ng-container matColumnDef="Nombre">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> Nombre </th>
                                <td mat-cell *matCellDef="let row"> {{row.nombre}}  </td>
                              </ng-container>
                              <!-- Name Column -->
                              <ng-container matColumnDef="Correo">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> Correo </th>
                                <td mat-cell *matCellDef="let row"> {{row.correo}} </td>
                              </ng-container>
                              <!-- Color Column -->
                              <!-- Name Column --> 
                              <!-- Name Column -->
                              <ng-container matColumnDef="Estado">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> Estado </th>
                                <td mat-cell *matCellDef="let row"> 
                                  <mat-icon *ngIf="row.estado=='1'" color="primary">sentiment_very_satisfied</mat-icon> 
                                  <mat-icon *ngIf="row.estado!='1'" color="warn">sentiment_very_dissatisfied</mat-icon> 
                                  <span *ngIf="row.estado=='1'">Activo</span> 
                                  <span *ngIf="row.estado!='1'">Inactivo</span> 
                                </td> 

                              </ng-container>
                              
                              <ng-container matColumnDef="Rol">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> UN-ROL-SEDE </th>
                                <td mat-cell *matCellDef="let row" style="width: 600px;">                                  
                                  <table border *ngIf="row.roles.length > 0" style="width: 100% !important;"> 
                                    <tr *ngFor="let item of row.roles">
                                      <td>{{ item.unidad.descripcion }}</td>
                                      <td>{{ item.rol.nombre }}</td>
                                      <td>{{ item.sede.descripcion }}</td>
                                    </tr> 
                                 </table>      
                                 <span *ngIf="row.roles.length < 1" style="font-weight: bold;">Sin Asignar</span>                        
                                </td>
                              </ng-container> 
                              <!-- Name Column -->
                              <ng-container matColumnDef="Accion">
                                <th mat-header-cell  *matHeaderCellDef mat-sort-header> Accion </th>
                                <td mat-cell *matCellDef="let row">
                                    <button mat-icon-button color="primary"  >
                                        <mat-icon aria-label="Delete" (click)="openEditUser(row)">create</mat-icon>
                                      </button>
                                      <!--<button mat-icon-button color="danger"  > 
                                         <mat-icon>delete</mat-icon> 
                                        </button>-->
                                </td>
                              </ng-container>
                           
                            
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
                          
                            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                          </div>
  
                           
                    </div>
                </div>
             
